<section id="profile" class="content-header">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-4">

				<div class="thumbnail">
					<img alt="Default image" src="images/contacts.ico" ng-if="!profileDetails.imagePath"/>
					<img  ng-src="data:image/png;base64,{{profileDetails.profieImageBytes}}" ng-if="profileDetails.imagePath" />
					<div class="caption">
					  <p><input class="white" type="file" file-model="profileDetails.profileImage" ng-if="!viewProfile" /></p>
						
						<p ng-if="profileDetails.firstName!==null">Name: {{profileDetails.firstName}}</p>
						<p ng-if="profileDetails.currentJobTitle!==null">Designation: {{profileDetails.currentJobTitle}}</p>
						<p>
							<span class="glyphicon glyphicon-envelope"></span> Mail Id:
							{{profileDetails.email}}
						</p>
						<p ng-if="profileDetails.location!==null">
							<span class="glyphicon glyphicon-map-marker"></span> Location: {{profileDetails.location}}
						</p>

						<div ng-if="userDetails.role==0" >
							<span class="glyphicon glyphicon-file"></span> Default Resume:
							<input class="white" type="file" file-model="profileDetails.defaultResume" ng-if="!viewProfile" />
							<label ng-if="resumeInvalidMessage" class="text-danger">{{resumeInvalidMessage}}</label>
						<div ng-if="!viewProfile && userDetails.role==0" style="font-size: xx-small;"> Formats: doc, docx</div>
		  				 <div ng-if="!viewProfile && userDetails.role==0" style="font-size: xx-small;">Size limit:1 MB </div>
						</div>
						<div ng-if="userDetails.role==0">
							<span class="glyphicon glyphicon-film"></span> Default Video:
							<input class="white" type="file" file-model="profileDetails.defaultVideo" ng-if="!viewProfile" />
							<label ng-if="videoInvalidMessage" class="text-danger">{{videoInvalidMessage}}</label>
						<div ng-if="!viewProfile && userDetails.role==0" style="font-size: xx-small;"> Formats: mp4, webm, ogg, ogv</div>
        				 <div ng-if="!viewProfile && userDetails.role==0" style="font-size: xx-small;">Size limit:10 MB </div>
        				 <div ng-if="!viewProfile && userDetails.role==0" style="font-size: xx-small;font-style: italic;">For MP4 formats, Please use Chrome or Safari </div>
						</div>

						<button type="button" class="btn btn-block btn-primary" ng-if="viewProfile" ng-click="editProfile();">EDIT PROFILE AND UPLOAD</button>
						<button type="button" class="btn btn-block btn-success" ng-disabled="profileForm.$invalid" ng-if="!viewProfile" ng-click="updateProfile();" ng-disabled="profileDetails.experience<0 || profileDetails.currentSalary<0 || profileDetails.expectedSalary<0 || profileDetails.phone<0">SUBMIT PROFILE</button>
						
					</div>
				</div>

			</div>
			<div class="col-md-8">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">Profile</h3>
					</div>

				</div>
				<div class="row">
					<form name="profileForm" role="form">

						<div class="form-group col-md-6">
							<label for="firstName"> First Name </label> 
							<input type="text" class="form-control" id="firstName" ng-model="profileDetails.firstName" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6" ng-if="userDetails.role==0">
							<label for="firstName"> Middle Name </label>
							 <input type="text" class="form-control" id="middleName" ng-model="profileDetails.middleName" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6">
							<label for="lastName"> Last Name </label> 
							<input type="text" class="form-control" id="lastName" ng-model="profileDetails.lastName" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6">
							<label for="phoneNo"> Phone no </label>
							 <input type="number" class="form-control" id="phoneNo" ng-model="profileDetails.phone" ng-init="profileDetails.phone=changeToInt(profileDetails.phone)" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6">
							<label for="location"> Location </label>
							 <input type="text" class="form-control" id="location" ng-model="profileDetails.location" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6">
							<label for="currentJobTitle"> Current Job Title </label>
							 <input type="text" class="form-control" id="currentJobTitle" ng-model="profileDetails.currentJobTitle" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6">
							<label for="currentEmployer"> Current Employer </label>
							 <input type="text" class="form-control" id="currentEmployer" ng-model="profileDetails.currentEmployer" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6" ng-if="userDetails.role==0">
							<label for="experience"> Experience</label>
							 <input type="text" class="form-control" id="experience" name="experience" ng-model="profileDetails.experience" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6" ng-if="userDetails.role==0">
							<label for="currentSalary"> Current Salary </label> 
							<input type="number" class="form-control" id="currentSalary"  name="currentSalary" ng-model="profileDetails.currentSalary" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6" ng-if="userDetails.role==0">
							<label for="expectedSalary"> Expected Salary</label> 
							<input type="number" class="form-control" id="expectedSalary"  name="expectedSalary" ng-model="profileDetails.expectedSalary" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6" ng-if="userDetails.role==0">
							<label for="primarySkills"> Primary Skills </label> 
							<input type="text" class="form-control" id="primarySkills" ng-model="profileDetails.primarySkills" ng-disabled="viewProfile"  placeholder="Add skills with comma separated, Eg: Java,Spring" required/>
						</div>

						<div class="form-group col-md-6" ng-if="userDetails.role==0">
							<label for="secondarySkills"> Secondary Skills </label> <input
								type="text" class="form-control" id="secondarySkills" ng-model="profileDetails.secondarySkills" ng-disabled="viewProfile"  placeholder="Add skills with comma separated, Eg: Html,css" required/>
						</div>

						<div class="form-group col-md-6" ng-if="userDetails.role==0">
							<label for="workAuthorization"> Visa Status</label> 
							<input type="text" class="form-control" id="workAuthorization" ng-model="profileDetails.workAuthorization" ng-disabled="viewProfile" required/>
						</div>

						<div class="form-group col-md-6" ng-if="userDetails.role==0">
							<label for="workAuthorization" style="margin-bottom: 17px;"> Job Type</label> </br> 
							<label class="radio-inline">
							 <input type="radio" name="Contract" id="Contract" value="1" ng-model="profileDetails.jobType" ng-disabled="viewProfile">
								Contract
							</label>
							 <label class="radio-inline">
							  <input type="radio" name="Permanent" id="Permanent" value="0" ng-model="profileDetails.jobType" ng-disabled="viewProfile">
								Permanent
							</label> 
							<label class="radio-inline"> 
							<input type="radio" name="Any" id="Any" value="2" ng-model="profileDetails.jobType" ng-disabled="viewProfile">
								Any
							</label> 
						</div>
						<div class="form-group col-sm-12 " ng-if="!viewProfile &&( userDetails.role==1 || userDetails.role==2)">
						<label for="secondarySkills"> Add {{roleType}} </label>
						
						 <input type="text" class="form-control" id="roleType" ng-model="profileDetails.roleEmailId"  placeholder="Add {{roleType}}"/>
						<label class="text-danger" ng-if="roleEmailIdErrorMessage">{{roleEmailIdErrorMessage}}</label>
						</div>
						
						<div class="form-group col-sm-12 text-center" ng-if="!viewProfile &&( userDetails.role==1 || userDetails.role==2)">
						<button type="button" class="btn btn-xs btn-danger" ng-click="add(roleEmailId);">ADD {{roleType}}</button>
						<button ng-if=" userDetails.role==2" type="button" class="btn btn-xs btn-primary" ng-click="availableCMS();">ADD From Existing CM's</button>
						</div>
						
						
						 <div class="col-md-12" ng-if="users.length>0 && (userDetails.role==1 || userDetails.role==2)">

              <table id="allRoles" class="table table-striped table-bordered centerAlign" style="margin-bottom: 0px;">
                <thead >
                <tr>
                  <th class="bg-primary"> {{roleType}} </th>
                   <th class="bg-primary">Action</th>
                </tr>
                </thead>
                <tbody>
                
                 <tr dir-paginate="user in users | filter:search | itemsPerPage: 10 " >
                  <td>{{user.email}}</td>
                  <td><button type="button" class="btn btn-xs btn-danger" ng-disabled="viewProfile" ng-click="remove($index);">Delete</button></td>
                </tr>
       
                </tbody>

              </table>
<dir-pagination-controls style="position: relative;left: 40%;"></dir-pagination-controls>
        </div>
						
						
						
						
						
						
                     <!--   <div class="form-group col-md-6" >
							<label for="workAuthorization"> Email Account</label> </br> 
							<label class="radio-inline">
							 <input type="radio" name="outlookAccount" id="outlookAccount" value="0" ng-model="profileDetails.mailAccount" ng-disabled="viewProfile">
								Outlook Account
							</label>
							 <label class="radio-inline">
							  <input type="radio" name="gmailAccount" id="gmailAccount" value="1" ng-model="profileDetails.mailAccount" ng-disabled="viewProfile">
								Gmail Account
							</label> 
						</div> -->
					</form>
				</div>
			</div>
		</div>
	</div>
</section>
